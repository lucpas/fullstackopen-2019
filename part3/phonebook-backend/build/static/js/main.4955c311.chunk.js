(window.webpackJsonpphonebook=window.webpackJsonpphonebook||[]).push([[0],{16:function(e,n,t){e.exports=t(40)},21:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(13),c=t.n(a),u=(t(21),t(14)),i=t(15),l=t(2),s=t(3),f=t.n(s),m="http://localhost:3001/api/persons/",d=function(e){f.a.get(m).then((function(n){return e(n.data)})).catch((function(e){return console.log(e)}))},h=function(e){return f.a.post(m,e).then((function(e){return e.data}))},p=function(e){return f.a.put(m+e.id,e).then((function(e){return e.data}))},b=function(e){return f.a.delete(m+e.id).then((function(e){return e.data}))},w=function(e){return o.a.createElement("div",null,"filter shown with",o.a.createElement("input",{onChange:e.onChange}))},g=function(e){return o.a.createElement("form",{onSubmit:e.onAddPerson},o.a.createElement("div",null,"name: ",o.a.createElement("input",{onChange:e.onNameChange})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{onChange:e.onNumberChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},O=function(e){return e.persons.map((function(n){return o.a.createElement("p",{key:n.name},n.name," ",n.number,o.a.createElement("button",{onClick:function(){return e.onDeletePerson(n)}},"delete"))}))},E=(t(39),function(e){return o.a.createElement("div",{className:e.type},e.msg)});function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(t,!0).forEach((function(n){Object(u.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=function(){var e=Object(r.useState)([]),n=Object(l.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(""),u=Object(l.a)(c,2),s=u[0],f=u[1],m=Object(r.useState)(""),v=Object(l.a)(m,2),y=v[0],P=v[1],C=Object(r.useState)(""),k=Object(l.a)(C,2),D=k[0],S=k[1],N=Object(r.useState)({show:!1,msg:"",type:null}),A=Object(l.a)(N,2),B=A[0],J=A[1];Object(r.useEffect)((function(){return d(a)}),[]);var L=function(e){h({name:s,number:y}).then((function(e){a([].concat(Object(i.a)(t),[e])),x("Added ".concat(e.name),"success")})).catch((function(e){return x(e.response.data.error,"error")}))},W=function(e){var n="".concat(e.name," is already added to phonebook, replace the old number with a new one?");window.confirm(n)&&p(j({},e,{number:y})).then((function(e){a(t.map((function(n){return n.id!==e.id?n:e}))),x("Updated ".concat(e.name),"success")})).catch((function(e){return x("error while updating person!","error")}))},x=function(e,n){J({show:!0,msg:e,type:n}),setTimeout((function(){J(j({},B,{show:!1}))}),1e4)},I=t.filter((function(e){return e.name.toLowerCase().includes(D.toLowerCase())}));return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),B.show?o.a.createElement(E,B):null,o.a.createElement(w,{onChange:function(e){return S(e.target.value)}}),o.a.createElement("h2",null,"add a new"),o.a.createElement(g,{onAddPerson:function(e){e.preventDefault();var n=t.find((function(e){return e.name===s}));n?W(n):L()},onNameChange:function(e){return f(e.target.value)},onNumberChange:function(e){return P(e.target.value)}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(O,{persons:I,onDeletePerson:function(e){window.confirm("Delete ".concat(e.name,"?"))&&b(e).then((function(){a(t.filter((function(n){return n.id!==e.id}))),x("Deleted ".concat(e.name),"success")})).catch((function(e){return x("error while deleting person!","error")}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.4955c311.chunk.js.map